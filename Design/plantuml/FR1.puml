@startuml FR1

box "Frontend"
actor ":User:" as ted
participant ":GUI" as gui
participant ":GuiHandler" as gh
participant ":DatapointSelection" as selection
participant ":DataHandler" as dh
end box

box "Backend"
participant ":RestHandler" as rh
participant ":History" as ghist
participant ":RepositoryHandler" as reph
end box

ted -> gui ++: opens

gui -> gh ++: updateView()
gh -> dh ++: getCommitHistory(branch: String, device: Device, benchmark: Benchmark)
dh -> rh ++: get request for commit history
rh -> ghist ++: getCommitHistory(branch: String, device: Device, benchmark: Benchmark)

alt git history is not up to date
  ghist -> reph ++: fetchGitHistory()
  reph --> ghist --: commits: List<Commit>
  ghist -> ghist ++: updateHistory(commits: List<Commit>)
  ghist --> ghist --
  end

ghist --> rh --: history: List<Commit>
rh --> dh --: commit history
dh --> gh --: List<Commit>
gh --> gui --:



ted -> gui: selects a datapoint
gui -> gh ++: selectDatapoint(benchmark: String, branch: String, device: String, commit: String)

alt first selected datapoint
  create selection
  gh -> selection : DatapointSelection()
  end

gh -> selection ++: addDatapoint(datapoint: DataPoint)
selection --> gh --:
gh --> gui --:
gui --> ted --:

@enduml
